<div class="todo">
  <div [ngStyle]="{ display: puedeEditar ? 'flex' : 'none' }">
    <div class="mapa">
      <div style="height: auto" class="container-canvas">
        <canvas #myCanvas width="768" height="384"></canvas>
      </div>
      <div class="savana">
      <div style="padding-top: 10px; overflow: hidden" class="container">
        <button class="btn publicar" (click)="guardar()">Guardar</button>
        <button class="btn goma" (click)="activarGoma()">
          <svg
            version="1.1"
            id="Layer_1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px"
            y="0px"
            height="18px"
            viewBox="0 0 122.88 103.38"
            style="enable-background: new 0 0 122.88 103.38"
            xml:space="preserve"
          >
            <style type="text/css">
              .st0 {
                fill-rule: evenodd;
                clip-rule: evenodd;
              }
            </style>
            <g>
              <path
                class="st0"
                d="M27.66,93.53h32.49l9.1-9.08c1.4-1.4,1.41-3.7,0.01-5.1l-27.02-27.1c-1.4-1.4-3.7-1.41-5.1-0.01L14.3,75.03 c-1.41,1.4-1.41,3.7-0.01,5.1L27.66,93.53L27.66,93.53z M71.03,93.53h51.84v9.85H61.16H50.28h-12.8H25.7h-0.35L1.05,79.01 c-1.4-1.4-1.4-3.7,0.01-5.1L74.11,1.05c1.41-1.4,3.7-1.4,5.1,0.01l39.62,39.72c1.4,1.4,1.4,3.7-0.01,5.1L71.03,93.53L71.03,93.53z"
              />
            </g>
          </svg>
        </button>
        <button class="btn tacho" (click)="togglePopupBorrar()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            x="0px"
            y="0px"
            height="20px"
            viewBox="0 0 30 30"
          >
            <path
              d="M 13 3 A 1.0001 1.0001 0 0 0 11.986328 4 L 6 4 A 1.0001 1.0001 0 1 0 6 6 L 24 6 A 1.0001 1.0001 0 1 0 24 4 L 18.013672 4 A 1.0001 1.0001 0 0 0 17 3 L 13 3 z M 6 8 L 6 24 C 6 25.105 6.895 26 8 26 L 22 26 C 23.105 26 24 25.105 24 24 L 24 8 L 6 8 z"
            ></path>
          </svg>
        </button> 
        <h2 style="margin-left: 10px;">Codigo: </h2><h2 style="margin-left: 2px;" class="id-mapa">{{mapa?.id}}</h2>
        <h2>Nombre: {{mapa?.name}}</h2>
        <img *ngIf="mapaCargado" class="dificultad" [src]="getImageForDificultad()">
      </div>
      </div>
    </div>
    <div class="imagenes">
      <img
        [ngClass]="{ activo: activoIndex === i }"
        *ngFor="let image of images; let i = index"
        [src]="image.src"
        [alt]="image.name"
        (click)="selectImage(image, i)"
        width="50"
        height="50"
      />
    </div>
    <div [ngStyle]="{ display: isVisible ? 'block' : 'none' }" class="popup">
      <div style="display: inline-block; margin-right: 20px">
        <label for="mapName" style="margin: 10px; font-size: xx-large"
          >Guardado</label
        >
      </div>
    </div>
    <div class="popup" [ngStyle]="{ display: isVisibleBorrar ? 'block' : 'none' }" >
      <div style="display: inline-block; margin-right: 20px">
        <label for="mapName" style="margin: 10px; font-size: xx-large">
          Seguro que quiere borrar
        </label>
      </div>
      <button
        (click)="togglePopupBorrar()" 
        style="margin: 10px; background-color: red"
        class="button"
      >
        CANCELAR
      </button>
      <button
        (click)="borrarMapa()"
        style="margin: 10px; background-color: #4caf50"
        class="button"
      >
        BORRAR
      </button>
    </div>    
  </div>
  <div  [ngStyle]="{ display: puedeEditar ? 'none' : 'block' }"  class="container-canvas">
    <h1 class="notLoggedIn">No sos el creador de este mapa</h1>
  </div>
</div>
